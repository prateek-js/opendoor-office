var LRM_TAG="&lrm;";var ENABLE_SPINNER_DELAY;var SPINNER_DELAY=500;var userName="";var userEmail="";var userGender="";var isloggedIn="";var serviceIdSelected="";var orderStartTime="";var userProfile="";window.pageCount=0;function handleAuthResult(a){this.userDetails(a);TheOpenDoor.app.getController("TheOpenDoor.controller.LoginController").handleSignInDataSend(a)}function userDetails(b){userName=b.displayName;userEmail=b.email;var a=b.imageUrl;userGender=b.gender}function handleFbAuthResult(a){this.userFbDetails(a);TheOpenDoor.app.getController("TheOpenDoor.controller.LoginController").handleSignInFbDataSend(a)}function userFbDetails(a){userName=a.name;userEmail=a.email}function showSpinner(b){function a(d){var c;if(d==="undefined"||d===null){c="Loading"}else{c=d}Ext.Viewport.setMasked({xtype:"loadmask",message:c,indicator:true,zIndex:2000})}if(ENABLE_SPINNER_DELAY==="undefined"){ENABLE_SPINNER_DELAY=Ext.os.is.Android}if(ENABLE_SPINNER_DELAY){Ext.defer(function(){a(b)},SPINNER_DELAY)}else{a(b)}}function isOnLine(){if(navigator.network!=undefined&&navigator.network.connection!=undefined){var a=navigator.network.connection.type;if(a===Connection.NONE){return false}return true}return true}function hideSpinner(){if(ENABLE_SPINNER_DELAY){Ext.defer(function(){Ext.Viewport.setMasked(false)},SPINNER_DELAY)}else{Ext.Viewport.setMasked(false)}}function showErrorDialog(d,a,c){var b="";if(typeof a==="undefined"){a=false}if(typeof c=="undefined"){c=false}if(typeof d!=="undefined"&&d!==""){b=d}else{b=localeString.errorGenericMessage}Ext.Msg.show({title:"",message:b,buttons:Ext.MessageBox.OK,cls:"confirmation_box",})}function onNativeBackKeyDown(a){Ext.Msg.show({title:"Exit",message:localeString.appExitErrorMessage,buttons:[{text:"NO",ui:"null"},{html:"<b>YES</b>",ui:"null",text:"YES"}],fn:function(b){b=b.toLowerCase();if(b==="no"){}else{navigator.app.exitApp()}}});a.preventDefault();a.stopPropagation();return false}function convertDateToTimestamp(b){var c=b.slice(0,10);if(!b){return null}var f=c.split("-");var a=["January","February","March","April","May","June","July","August","September","October","November","December"];var e=a[f[1]-1];var d=f[2]+" "+e;return d}function convertDateforDay(c){if(!c){return null}var i=c.split("-");var b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var g=b[i[1]-1];var f=i[2]+" "+g+" "+i[0];var h=new Date(f);var e=new Array(7);e[0]="Sunday";e[1]="Monday";e[2]="Tuesday";e[3]="Wednesday";e[4]="Thursday";e[5]="Friday";e[6]="Saturday";var a=e[h.getDay()];return a}function convertDateToCalendarDate(d){if(!d){return null}var g=d.split("-");var b=["01","02","03","04","05","06","07","08","09","10","11","12"];var f=b[g[1]-1];var e=g[2]+"/"+f+"/"+g[0];var a=convertDateforDay(d);var c=e+","+a;return c}function convertTimeToTimestamp(e){if(!e){return""}var d=e;var b=+d.substr(0,2);var c=(b%12)||12;var a=b<12?"AM":"PM";d=c+d.substr(2,3)+a;return d}function getLangParamFromURL(){var c="lang",e=window.location.search.substr(1),f=e.split("&"),a,d=false;for(a=0;a<f.length;a++){var b=f[a].split("=");if(b[0]&&b[0]===c){d=b[1]}}return d}function splitDateAndTimeRetTime(c){var b=c;var a=convertTimeToTimestamp(b.slice(11,19));return a}function splitDateAndTimeRetDate(c){var b=c;var a=convertDateToCalendarDate(b.slice(0,10));return a}function genericErrorCheck(b){var c=false,a=localeString.unable_process_error;if(b.status!=null&&b.status==401){a=localeString.session_timeout_error;c=true}if(c){showErrorDialog(null,true,true)}return c};